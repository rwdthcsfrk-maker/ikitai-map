# 行きたい店マップ - TODO

## データベース設計
- [x] Placeテーブル（店舗情報）
- [x] Listテーブル（ユーザー独自リスト）
- [x] ListPlaceテーブル（リストと店舗の中間テーブル）
- [x] マイグレーション実行

## バックエンドAPI
- [x] 店舗CRUD API（place router）
- [x] リストCRUD API（list router）
- [x] Google Places API連携（店舗情報取得）
- [x] LLM連携（店舗情報要約生成）
- [x] 自然言語検索API（条件解析・フィルタリング）

## フロントエンド
- [x] マップ画面（Googleマップ表示・ピン表示）
- [x] 検索入力欄（自然言語検索）
- [x] リスト一覧画面
- [x] リスト詳細画面（店舗カード表示）
- [x] 店舗追加画面（URL/店名入力）
- [x] 条件タグフィルタUI
- [x] 店舗詳細リンク（Googleマップへ遷移）

## 認証・その他
- [x] OAuth認証（Manus OAuth）
- [x] レスポンシブデザイン対応


## 追加機能（v2）
- [x] 現在地取得機能（Geolocation API）
- [x] 現在地をマップに表示
- [x] お気に入り・訪問済みステータス機能
- [x] 店舗評価機能（5段階評価）
- [x] 評価・ステータスのDB保存
- [x] ステータス別フィルタリング


## Expo GO対応（v3）
- [x] Expoプロジェクト初期化
- [x] React Native用マップ画面実装
- [x] React Native用リスト画面実装
- [x] React Native用検索画面実装
- [x] React Native用店舗追加画面実装
- [x] tRPC API連携設定
- [x] OAuth認証対応（デモモード）
- [x] 現在地取得機能（expo-location）
- [x] Expo GO接続設定ドキュメント作成


## 本番OAuth認証（v4）
- [x] expo-auth-sessionインストール
- [x] OAuth認証フロー実装
- [x] ログイン画面作成
- [x] 認証状態の永続化（SecureStore）
- [x] 認証済みユーザーのみアクセス可能に


## モバイルOAuth・プロフィール（v5）
- [x] モバイル用OAuthエンドポイント実装
- [x] JWTトークン生成・検証
- [x] プロフィール画面作成
- [x] ログアウト機能
- [x] ユーザー情報表示


## 統計情報・編集・削除機能（v6）
- [x] 統計情報API実装（保存数・リスト数・訪問済み数）
- [x] 店舗編集API実装
- [x] 店舗削除API実装
- [x] Web版：店舗編集ダイアログ
- [x] Web版：店舗削除機能
- [x] モバイル版：統計情報表示
- [x] モバイル版：店舗編集画面
- [x] モバイル版：店舗削除機能


## 店舗検索機能（v7）
- [x] 設計ドキュメント作成
- [x] ジャンルマスタテーブル作成
- [x] 予算帯マスタ定義
- [x] 検索API実装（フィルタ条件対応）
- [x] フィルタUI実装（プルダウン選択式）
- [x] 結果一覧UI実装
- [x] 並び替え機能実装
- [ ] モバイル版対応（後日対応）


## スマホUI最適化（v8）
- [x] フィルタ検索画面の左側見切れ修正
- [x] ホーム画面のスマホ最適化（サイドバー→ボトムシート）
- [x] ヘッダーのスマホ対応
- [x] ボトムナビゲーション追加
- [x] リスト画面のスマホ最適化
- [x] 店舗追加画面のスマホ最適化
- [x] 検索画面のスマホ最適化
- [x] タッチ操作に最適化（ボタンサイズ等）
- [x] ボトムナビゲーション追加


## 検索特化UI・マイページ拡充（v9）
- [x] 評価を100点満点に変更（DBスキーマ）
- [x] ホーム画面を検索特化UIに変更
- [x] クイックフィルタ（ジャンル・距離・予算）をホームに配置
- [x] マイページに評価分布グラフ追加
- [x] マイページに訪問履歴タイムライン追加
- [x] マイページにジャンル別統計追加
- [x] 店舗詳細の評価UIを100点満点に変更
- [x] 評価入力UIをスライダーに変更


## バグ修正（v10）
- [x] 「詳細条件で検索」ボタンが押せない問題を修正
- [x] 下のプラスボタンが見切れている問題を修正
- [x] 保存した店舗をタップしても評価できない問題を修正

## バグ修正（v11）
- [x] 店舗一覧Drawerがスクロールできない問題を修正
- [x] 条件検索Drawerがスクロールできない問題を修正

## 新機能（v12）
- [x] 話題のお店を取得するAPIを実装
- [x] 「店舗を探す」画面におすすめ（話題のお店）表示機能を追加

## 新機能（v13）
- [x] 話題のお店をリストに追加できるボタンを実装
- [x] TikTok/YouTube動画のサムネイル画像を表示

## 機能改善（v14）
- [x] 話題のお店動画を1店舗紹介動画に絞り込む（まとめ動画を除外）
- [x] Google Maps上に未登録の飲食店POIも表示する
- [x] マップスタイルを写真のようなスタイル（淡い色調）に変更

## 機能改善（v15）
- [x] マップの初期ズームレベルを調整して飲食店POIを見やすく
- [x] 話題のお店から店舗名を抽出しGoogle Places APIで検索する機能を追加
- [x] エリア選択UI（渋谷・新宿など）を追加

## 機能変更（v16）
- [x] 店舗追加画面に話題のお店セクションを追加（現在のおすすめを置き換え）
- [x] TikTok検索を写真投稿に変更
- [x] 店舗を探す画面から話題のお店を削除

## 新機能（v17）
- [x] 店舗追加画面にエリア選択ボタンを追加
- [x] Instagram連携で話題のお店を取得（APIが利用不可のためTikTok/YouTubeのみ）


## バグ修正（v18）
- [x] trendingエンドポイントをpublicProcedureに変更（ログイン不要で話題のお店を表示）


## UI改善（v19）
- [x] ホーム画面から「あなたへのおすすめ」セクションを削除し地図を優先表示
- [x] おすすめ専用タブ/画面を作成
- [x] 地図を常に現在地中心に表示するよう修正


## UI改善（v20）
- [x] 店舗追加画面の動画カードを縮小し地図を優先表示
- [x] ボトムナビのプラスボタンの見切れを修正
